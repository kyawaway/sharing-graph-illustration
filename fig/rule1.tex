\begin{tikzpicture}
  %before
  \fanin{(0,0)}{a}
  \fanout[red!10]{(0,-1.5)}{b}
  \draw[thick] (a_bottom) -- (b_top);
  \draw[thick] (-0.8,0.8) -- (a_white);
  \draw[thick] (0.8,0.8) -- (a_black);
  \draw[thick] (-0.8,-2.3) -- (b_black);
  \draw[thick] (0.8,-2.3) -- (b_white);

  %arrow
  \draw[thick,->] (1.5,-1) -- (2.5,-1);

  %after
  \fanout[red!10]{(4,0)}{c}
  \fanout[red!10]{(5.5,0)}{d}
  \fanin{(4,-1.5)}{e}
  \fanin{(5.5,-1.5)}{f}
  \draw[thick] (c_white) -- (f_white);
  \draw[thick] (d_black) -- (e_black);
  \draw[thick] (c_black) -- (e_white);
  \draw[thick] (d_white) -- (f_black);
  \draw[thick] (c_top) -- (4,0.8);
  \draw[thick] (d_top) -- (5.5,0.8);
  \draw[thick] (4,-2.3) -- (e_bottom);
  \draw[thick] (5.5,-2.3) -- (f_bottom);

\end{tikzpicture}
